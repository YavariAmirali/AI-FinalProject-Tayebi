<div dir="rtl">

# ๐ซ ุชุดุฎุต ุฐุงุชโุงูุฑู ุจุง ููุด ูุตููุน ูุงุจู ุชูุณุฑ (XAI-Pneumonia-Detection)

![Python](https://img.shields.io/badge/Python-3.9-blue.svg)
![TensorFlow](https://img.shields.io/badge/TensorFlow-2.x-orange.svg)
![Docker](https://img.shields.io/badge/Docker-Containerized-blue)
![Streamlit](https://img.shields.io/badge/Frontend-Streamlit-red)
![CI/CD](https://img.shields.io/badge/CI%2FCD-GitHub%20Actions-green)

ุฏุฑ ุงู ูพุฑูฺูุ ูุง ฺฉ ุณุณุชู **ุจูุง ูุงุดู (Computer Vision)** ูพุดุฑูุชู ุชูุณุนู ุฏุงุฏูโุงู ฺฉู ูุงุฏุฑ ุงุณุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุชุตุงูุฑ ุฑุงุฏูููฺ ููุณู ุณูู (Chest X-Ray) ู ูุงูโูุง ุงุณุชุงูุฏุงุฑุฏ ูพุฒุดฺฉ **DICOM**ุ ุจูุงุฑุงู ูุจุชูุง ุจู ุฐุงุชโุงูุฑู ุฑุง ุงุฒ ุงูุฑุงุฏ ุณุงูู ุชุดุฎุต ุฏูุฏ.

ุงู ูพุฑูฺู ุงุฒ ูุงุฒ ุชุญููุงุช ุนุจูุฑ ฺฉุฑุฏู ู ุงฺฉููู ุจู ุนููุงู ฺฉ ุณุฑูุณ ฺฉุงูู ุดุงูู **ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ**ุ **ุชูุณุฑูพุฐุฑ ูุฏู (Grad-CAM)** ู **ุฒุฑุณุงุฎุช ุงุจุฑ (Docker/CI-CD)** ุขูุงุฏู ุจูุฑูโุจุฑุฏุงุฑ ุงุณุช.

---

## ๐ฅ ุงุนุถุง ุชู (Team Members)
- **ุฏุงูุงู ุฎุงฺฉุณุงุฑ** (Data Lead): ูุฏุฑุช ูพุงูพโูุงู ุฏุงุฏูุ ูพุงุฏูโุณุงุฒ `tf.keras.utils.Sequence` ู Augmentation ุจุง Albumentations.
- **ุณุฏ ุทุงูุง ุทุจ** (AI Lead): ุทุฑุงุญ ูุนูุงุฑ ResNet50ุ ุงุณุชุฑุงุชฺ Transfer Learning ู ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชู Grad-CAM.
- **ุงูุฑ ุนู ุงูุฑ** (DevOps Lead): ฺฉุงูุชูุฑุงุฒ ฺฉุฑุฏู ุงูพูฺฉุดูุ ุฑุงูโุงูุฏุงุฒ CI/CD Pipeline ู ูุฏุฑุช ูุงฺฏโูุง.

---

## ๐ ูฺฺฏโูุง ฺฉูุฏ ู ุชุญูู ูู (Key Features & Technical Analysis)

ูุง ุฏุฑ ุงู ูพุฑูฺู ุจุง ุชุฑฺฉุจ ุฏุงูุด ูพุฒุดฺฉ ู ูููุฏุณ ูุฑูโุงูุฒุงุฑุ ูุงุจูุชโูุง ุฒุฑ ุฑุง ุชูุณุนู ุฏุงุฏูโุงู:

### ฑ. ูุนูุงุฑ ูพุดุฑูุชู ุจุง ุฑูฺฉุฑุฏ Transfer Learning
ุจู ุฌุง ุขููุฒุด ูุฏู ุงุฒ ุตูุฑุ ุงุฒ ุดุจฺฉู **ResNet50** ุงุณุชูุงุฏู ุดุฏู ฺฉู ุฑู ุฏุชุงุจุณ ุนุธู ImageNet ุขููุฒุด ุฏุฏู ุงุณุช.
* **ฺุฑุง ุงู ุฑูุดุ** ุฏุฑ ุชุตุงูุฑ ูพุฒุดฺฉ ฺฉู ุฏุชุงุณุชโูุง ูุนูููุงู ูุญุฏูุฏ ูุณุชูุฏุ ุงู ุฑูุด ุงุฒ Overfitting ุฌููฺฏุฑ ูโฺฉูุฏ. ูุง ูุงูโูุง ุงุจุชุฏุง (ฺฉู ุฎุทูุท ู ูุจูโูุง ุฑุง ุชุดุฎุต ูโุฏููุฏ) ุฑุง ูุฑุฒ ฺฉุฑุฏู ู ูุงูโูุง ููุง ุฑุง ุจุฑุง ุชุดุฎุต **ุงูฺฏููุง ฺฉุฏุฑ (Opacities)** ุฏุฑ ุฑู ฺฉู ูุดุงูู ุฐุงุชโุงูุฑู ูุณุชูุฏุ Fine-tune ฺฉุฑุฏู.
* **ุชฺฉูฺฉ Center Cropping:** ุจุฑุง ุญุฐู ููุฒูุง ุงุทุฑุงู ุนฺฉุณ (ูุงููุฏ ุงุณุชุฎูุงูโูุง ุจุงุฒู ุง ุชุฌูุฒุงุช ูพุฒุดฺฉ)ุ ฑฐูช ุงุฒ ุญุงุดู ุชุตุงูุฑ ุจู ุตูุฑุช ููุดููุฏ ุญุฐู ูโุดูุฏ ุชุง ุชูุฑฺฉุฒ ูุฏู ููุท ุฑู ุจุงูุช ุฑู ุจุงุดุฏ.

### ฒ. ุงูููุชโุจูุฏ "ุญุณุงุณุช" (Recall) ุจุฑ "ุฏูุช" (Accuracy)
ุฏุฑ ุฏูุง ูพุฒุดฺฉุ ูุฒูู ุงุฒ ุฏุณุช ุฏุงุฏู ฺฉ ุจูุงุฑ (False Negative) ุจุณุงุฑ ุจุดุชุฑ ุงุฒ ุชุดุฎุต ุงุดุชุจุงู ฺฉ ูุฑุฏ ุณุงูู (False Positive) ุงุณุช.
* **ุงุณุชุฑุงุชฺ ูุง:** ุจุง ุชูุธู ุขุณุชุงูู ุชุตููโฺฏุฑ (Threshold) ู ุงุณุชูุงุฏู ุงุฒ **Weighted Loss Function**ุ ูุฏู ุฑุง ูุฌุจูุฑ ฺฉุฑุฏู ุชุง ุฑุณฺฉโูพุฐุฑ ุจุงุดุฏ.
* **ูุชุฌู:** ุฏุณุชุงุจ ุจู **Recall > 96%**. ุงู ุนู ุงุฒ ูุฑ ฑฐฐ ุจูุงุฑ ูุงูุนุ ูุฏู ุญุฏุงูู นถ ููุฑ ุฑุง ุดูุงุณุง ูโฺฉูุฏ. ด ููุฑ ุจุงูโูุงูุฏู ูุนูููุงู ููุงุฑุฏ ุจุณุงุฑ ุฎูู ูุณุชูุฏ ฺฉู ุญุช ุจุฑุง ุฑุงุฏูููฺุณุช ูู ฺุงูุดโุจุฑุงูฺฏุฒ ุงุณุช.
* ๐ **ุจุดุชุฑ ุจุฎูุงูุฏ:** [ฺุฑุง ุญุณุงุณุช (Sensitivity) ุฏุฑ ุชุณุชโูุง ุบุฑุจุงูฺฏุฑ ูพุฒุดฺฉ ุญุงุช ุงุณุชุ (ููุจุน: ูุฒุงุฑุช ุจูุฏุงุดุช ูููุฑฺฉ)](https://www.health.ny.gov/diseases/chronic/discreen.htm)

### ณ. ุชูุณุฑูพุฐุฑ ุจุง Grad-CAM (ูพุฒุดฺฉ ุงุฑ)
ฺฉ ุงุฒ ุจุฒุฑฺฏุชุฑู ฺุงูุดโูุง ููุด ูุตููุน ุฏุฑ ูพุฒุดฺฉุ "ุฌุนุจู ุณุงู" ุจูุฏู ุขู ุงุณุช. ูพุฒุดฺฉ ููโุชูุงูุฏ ุตุฑูุงู ุจู ุฎุฑูุฌ "ุจูุงุฑ ุงุณุช" ุงุนุชูุงุฏ ฺฉูุฏ.
* **ุฑุงูฺฉุงุฑ ูุง:** ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชู **Grad-CAM**. ุงู ูุงฺูู ฺฏุฑุงุฏุงูโูุง ูุงู ุขุฎุฑ ฺฉุงููููุดู (`conv5_block3_out`) ุฑุง ุงุณุชุฎุฑุงุฌ ฺฉุฑุฏู ู ฺฉ ููุดู ุญุฑุงุฑุช (Heatmap) ุฑู ุนฺฉุณ ุงุตู ูโุงูุฏุงุฒุฏ.
* **ฺฉุงุฑุจุฑุฏ:** ุงู ูุชโููพ ุฏููุงู ูุดุงู ูโุฏูุฏ ูุฏู ุจู ฺฉุฏุงู ูุณูุช ุฑู ูฺฏุงู ฺฉุฑุฏู ุงุณุช. ุงฺฏุฑ ูุฏู ุจู "ุจุงูุช ฺฉุฏุฑ ู ุณูุฏ ุดุฏู" ุฏุฑ ุฑู (ูุดุงูู ุงุตู ุฐุงุชโุงูุฑู ุจุงฺฉุชุฑุง) ูฺฏุงู ฺฉูุฏุ ูพุฒุดฺฉ ูโุชูุงูุฏ ุจู ุชุดุฎุต ูุฏู ุงุนุชูุงุฏ ฺฉูุฏ.
* ๐ **ููุงูู ุนูู:** [ูุทุงูุนู ูุญูู ุชุดุฎุต ุฐุงุชโุงูุฑู ุชูุณุท ุฑุงุฏูููฺุณุชโูุง (RSNA)](https://pubs.rsna.org/doi/full/10.1148/rg.2017160107) - *ูุดุงูุฏู ฺฉูุฏ ฺฉู ฺฺฏููู ูพุฒุดฺฉุงู ุจู ุฏูุจุงู ููุงุญ "Ground-glass opacity" ูโฺฏุฑุฏูุฏุ ุฏููุงู ููุงู ฺุฒ ฺฉู ูุฏู ูุง ูุงูุงุช ูโฺฉูุฏ.*

### ด. ูพุดุชุจุงู ุงุณุชุงูุฏุงุฑุฏ ุงุฒ DICOM
ุชุตุงูุฑ ุฏุฑ ุจูุงุฑุณุชุงูโูุง ุจุง ูุฑูุช JPG ุฐุฎุฑู ููโุดููุฏุ ุจูฺฉู ุงุฒ ุงุณุชุงูุฏุงุฑุฏ **DICOM** ุงุณุชูุงุฏู ูโฺฉููุฏ ฺฉู ุดุงูู ุงุทูุงุนุงุช ุจูุงุฑ ู ูุชุงุฏุชุง ุงุณฺฉู ุงุณุช.
* **ูุงุจูุช:** ุณุณุชู ูุง ุชูุงูุง ุฎูุงูุฏู ูุณุชูู ูุงูโูุง `.dcm`ุ ุงุณุชุฎุฑุงุฌ ูุชุงุฏุชุง ุจูุงุฑ (ุจุฏูู ุฐุฎุฑูโุณุงุฒ ุจุฑุง ุญูุธ ุญุฑู ุฎุตูุต) ู ุชุจุฏู ุขู ุขุฑุงู ูพฺฉุณู ุจู ูุฑูุช ูุงุจู ุฏุฑฺฉ ุจุฑุง ูุฏู ุฑุง ุฏุงุฑุฏ.
* ๐ **ุงุณุชุงูุฏุงุฑุฏ ุฌูุงู:** [DICOM ฺุณุช ู ฺุฑุง ุฏุฑ ุชุตูุฑุจุฑุฏุงุฑ ูพุฒุดฺฉ ุงุณุชุงูุฏุงุฑุฏ ุงุณุชุ (NEMA)](https://www.dicomstandard.org/about)

### ต. ููุงุจูู ุจุง ุฏุชุง ูุงูุชูุงุฒู (Imbalanced Data)
ุชุนุฏุงุฏ ุชุตุงูุฑ "ุจูุงุฑ" ุฏุฑ ุฏุชุงุณุช ุจุณุงุฑ ุจุดุชุฑ ุงุฒ "ุณุงูู" ุจูุฏ.
* **ุฑุงูฺฉุงุฑ:** ุงุณุชูุงุฏู ุงุฒ `class_weight` ุฏุฑ ุชุงุจุน `fit`. ูุง ุจู ฺฉูุงุณ ุงููุช ูุฒู ุจุดุชุฑ ุฏุงุฏู ุชุง ูุฏู ููฺฏุงู ูุญุงุณุจู Lossุ ุชูุจู ุจุดุชุฑ ุจุฑุง ุงุดุชุจุงู ุฑู ุงู ฺฉูุงุณ ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.

---

## ๐ ุณุงุฎุชุงุฑ ูุงูโูุง (File Structure)

<div dir="ltr">

```text
AI-FinalProject/
โโโ .github/workflows/ # ุชูุธูุงุช CI/CD (Smoke Tests)
โโโ data/ # ุฏุงุฏูโูุง ุชูฺฉฺฉ ุดุฏู (Train/Test/Val)
โโโ models/ # ูุญู ุฐุฎุฑู ูุงูโูุง .h5 ููุง
โโโ logs/ # ูุงฺฏโูุง ุขููุฒุด (CSV)
โโโ src/ # ุณูุฑุณ ฺฉุฏูุง ุงุตู
โ โโโ app.py # ุฑุงุจุท ฺฉุงุฑุจุฑ ูุจ (Streamlit)
โ โโโ data_loader.py # ฺูุฑุงุชูุฑ ุฏุงุฏู ู Albumentations
โ โโโ model_builder.py# ูุนูุงุฑ ResNet50 ู ุชูุงุจุน Grad-CAM
โ โโโ train.py # ุงุณฺฉุฑูพุช ุขููุฒุด (ุขุฑฺฏููุงูโูพุฐุฑ CLI)
โ โโโ evaluate.py # ุงุณฺฉุฑูพุช ุงุฑุฒุงุจ ู ุฑุณู ูููุฏุงุฑูุง
โโโ Dockerfile # ูุงู ุจูุฏ ุฏุงฺฉุฑ
โโโ requirements.txt # ูุณุช ุฏูู ูุงุจุณุชฺฏโูุง
โโโ README.md # ูุณุชูุฏุงุช ูพุฑูฺู

```
</div>

---

## ๐ ุฑุงูููุง ูุตุจ ู ุงุฌุฑุง (Installation & Usage)

### ุฑูุด ุงูู: ุงุฌุฑุง ุณุฑุน ุจุง Docker (ูพุดููุงุฏ) ๐ณ
ุจุฏูู ูุงุฒ ุจู ูุตุจ ูพุงุชูู ู ุฏุฑฺฏุฑ ุจุง ฺฉุชุงุจุฎุงููโูุง:

ฑ. **ุณุงุฎุช ุงูุฌ:**
<div dir="ltr">

   ```bash
   docker build -t pneumonia-app 
   ```
</div>

ฒ. **ุงุฌุฑุง ุจุฑูุงูู:**
<div dir="ltr">

   ```bash
   docker run -p 8501:8501 pneumonia-app
   ```
</div>
<div dir="rtl">
   ุณูพุณ ุฏุฑ ูุฑูุฑฺฏุฑ ุจู ุขุฏุฑุณ `http://localhost:8501` ุจุฑูุฏ.
</div>

---

<div dir="rtl">

### ุฑูุด ุฏูู: ุงุฌุฑุง ููฺฉุงู (Python) ๐

**ฑ. ูุตุจ ูพุดโูุงุฒูุง:**

</div>

<div dir="ltr">

```bash
pip install -r requirements.txt
```
</div>

<div dir="rtl">

**ฒ. ุขููุฒุด ูุฏู (Training):**
ุงุณฺฉุฑูพุช `train.py` ุงฺฉููู ุงุฒ ุทุฑู ุฎุท ูุฑูุงู ูุงุจู ุชูุธู ุงุณุช (ููุงุณุจ ุจุฑุง ุชุณุชโูุง ุณุฑุน CI/CD):
</div>

<div dir="ltr">

bash
<div dir="rtl">

# ุงุฌุฑุง ฺฉุงูู (ุขููุฒุด ุงุตู)
</div>

```
python src/train.py --epochs 20 --batch_size 32
```
<div dir="rtl">

# ุงุฌุฑุง ุชุณุช ุณุฑุน (Smoke Test)
</div>

```python src/train.py --epochs 1 --batch_size 2```

<div dir="rtl">

**ณ. ุงุฑุฒุงุจ ูุฏู (Evaluation):**

ุจุฑุง ุฏุฑุงูุช ฺฏุฒุงุฑุด ุฏูู ู ูููุฏุงุฑูุง ROC/AUC:

</div>
<div dir="ltr">

```bash
python src/evaluate.py
```
</div>
<div dir="rtl">

**ด. ุงุฌุฑุง ูุจโุงูพูฺฉุดู:**
</div>
<div dir="ltr">

```bash
streamlit run src/app.py
```
</div>

---
<div dir="rtl">

## ๐ ูุชุงุฌ ู ุนููฺฉุฑุฏ (Performance)

ูุชุงุฌ ุฒุฑ ุญุงุตู ุงุฑุฒุงุจ ูุฏู ููุง ุฑู ุฏุงุฏูโูุง ุชุณุช (Unseen Data) ุจุง ุชูุธู ุขุณุชุงูู ุชุตููโฺฏุฑ (Threshold) ุฑู **0.98** ุงุณุช:

| Metric | Simple CNN (Phase 1) | ResNet50 (Final Phase) | ูุถุนุช ุจูุจูุฏ |
| :--- | :---: | :---: | :---: |
| **Accuracy** | 73% | **91.00%** | ๐ผ +18% |
| **Recall (Sensitivity)** | 58% | **96.47%** | ๐ผ **+38%** (ุจุณุงุฑ ุญุงุช) |
| **Specificity** | 98% | **81.91%** | ๐ฝ (Trade-off ุจุฑุง ุฑฺฉุงู ุจุงูุง) |
| **AUC Score** | 0.96 | **0.96** | โ (ูพุงุฏุงุฑ) |

### ๐ก ุชุญูู ูุชุงุฌ:
* **ุงูููุช ูพุฒุดฺฉ (Recall):** ุฏุฑ ูุงุฒ ุงูู ูุฏู ุณุงุฏู ุจุณุงุฑ ุงุฒ ุจูุงุฑุงู ุฑุง ุชุดุฎุต ููโุฏุงุฏ (Recall=58%). ุฏุฑ ูุฏู ููุง ุจุง ุงุณุชูุงุฏู ุงุฒ **Transfer Learning** ู ุชูุธู ุฏูู Thresholdุ ุงู ุนุฏุฏ ุจู **นถ.ดทูช** ุฑุณุฏุ ุจู ุงู ูุนู ฺฉู ูุฏู ุชูุฑุจุงู ุชูุงู ุจูุงุฑุงู ูุจุชูุง ุจู ุฐุงุชโุงูุฑู ุฑุง ุดูุงุณุง ูโฺฉูุฏ.
* **ฺฉุงูุด Specificity:** ฺฉุงูุด ูฺฺฏ ุงุฒ นธูช ุจู ธฑ.นฑูช ฺฉ ุชุตูู ุขฺฏุงูุงูู (Trade-off) ุจุฑุง ุงูุฒุงุด ุญุณุงุณุช ูุฏู ุจูุฏู ุงุณุช ุชุง ูฺ ุจูุงุฑ ุงุฒ ููู ููุชุฏ (False Negative $\approx$ 0).

---

## ๐ ููุงุจุน ู ุงุฑุฌุงุนุงุช (References)
* **ุฏุชุงุณุช:** [Kaggle Chest X-Ray Images (Pneumonia)](https://www.kaggle.com/paultimothymooney/chest-xray-pneumonia)
* **ุชฺฉูฺฉ Grad-CAM:** [Visual Explanations from Deep Networks](https://arxiv.org/abs/1610.02391)
* **ฺฉุชุงุจุฎุงูู Albumentations:** [Albumentations Documentation](https://albumentations.ai/)
</div>
---

<div align="center">
  <b>ุชูุณุนู ุฏุงุฏู ุดุฏู ุชูุณุท ฺฏุฑูู ููุด ูุตููุน - ุฒูุณุชุงู 1404</b>
</div>

</div>
