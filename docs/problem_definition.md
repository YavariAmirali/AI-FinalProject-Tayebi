# تعریف مسئله و انتخاب معماری مدل (Problem Definition & Model Architecture)

## ۱. تعریف دقیق مسئله (Problem Definition)

هدف اصلی این پروژه، طراحی و پیاده‌سازی یک سامانه هوشمند مبتنی بر یادگیری عمیق برای **تشخیص بیماری ذات‌الریه (Pneumonia)** از روی تصاویر **X-Ray قفسه سینه** است. با توجه به ماهیت حساس پزشکی مسئله و نقش مستقیم آن در تصمیم‌گیری‌های درمانی، معیارهای ارزیابی مدل با دقت و اولویت‌بندی خاصی انتخاب شده‌اند.

مهم‌ترین اهداف و معیارهای موفقیت پروژه به شرح زیر تعریف می‌شوند:

* **Recall (Sensitivity) بالاتر از ۹۵٪:**
  Recall به عنوان حیاتی‌ترین معیار ارزیابی در نظر گرفته شده است، زیرا در مسائل تشخیص پزشکی، هزینه‌ی **False Negative** (عدم تشخیص بیمار مبتلا) بسیار بالا بوده و می‌تواند منجر به تأخیر در درمان یا تهدید جان بیمار شود. هدف اصلی این پروژه کاهش حداکثری موارد False Negative و نزدیک شدن آن به صفر است.

* **Accuracy بالاتر از ۹۰٪:**
  این معیار به منظور سنجش عملکرد کلی مدل در تشخیص صحیح تصاویر سالم و بیمار مورد استفاده قرار می‌گیرد. اگرچه Accuracy به تنهایی معیار قابل اتکایی در داده‌های نامتوازن نیست، اما در کنار Recall و سایر معیارها می‌تواند دید مناسبی از عملکرد عمومی مدل ارائه دهد.

* **معیارهای تکمیلی پزشکی (Medical Metrics):**
  به منظور ارزیابی جامع‌تر، معیارهای **Specificity** و **AUC (Area Under the ROC Curve)** نیز محاسبه خواهند شد. Specificity بالا نشان‌دهنده توانایی مدل در تشخیص صحیح افراد سالم است و از تشخیص اشتباه فرد سالم به عنوان بیمار (False Positive) جلوگیری می‌کند؛ امری که می‌تواند از تحمیل فشار روانی، هزینه‌های غیرضروری و مداخلات درمانی اشتباه پیشگیری کند.

---

## ۲. توجیه انتخاب معماری و استراتژی مدل‌سازی (Model Justification)

برای دستیابی به اهداف فوق و کاهش ریسک خطا، فرآیند مدل‌سازی در این پروژه به صورت **دو فاز مجزا** طراحی شده است.

### فاز اول: مدل پایه (Simple CNN Baseline)

در فاز نخست، از یک شبکه عصبی کانولوشنی ساده شامل **سه لایه کانولوشن** به عنوان مدل پایه استفاده می‌شود.

**دلایل انتخاب این رویکرد:**

* ایجاد یک **Baseline** برای مقایسه عملکرد مدل‌های پیشرفته‌تر
* بررسی میزان قابل‌تفکیک بودن داده‌ها با یک مدل ساده
* کاهش ریسک **Overfitting** به دلیل تعداد محدود پارامترها در مقایسه با حجم داده‌ها
* کمک به درک بهتر پیچیدگی ذاتی مسئله پیش از استفاده از معماری‌های عمیق‌تر

این مدل پایه نقش مرجع را ایفا می‌کند و عملکرد آن مبنایی برای سنجش میزان بهبود حاصل از به‌کارگیری یادگیری انتقالی خواهد بود.

---

### فاز دوم: یادگیری انتقالی با ResNet50 (Transfer Learning)

در فاز دوم، از معماری پیشرفته **ResNet50** به همراه وزن‌های از پیش آموزش‌دیده بر روی دیتاست **ImageNet** استفاده می‌شود.

**دلایل انتخاب ResNet50:**

* استفاده از **Residual Connections** که مشکل Vanishing Gradient را در شبکه‌های عمیق کاهش می‌دهد
* توانایی استخراج ویژگی‌های سطح بالا و پیچیده که برای تشخیص الگوهای ظریف در تصاویر پزشکی ضروری هستند
* بهره‌گیری از دانش پیش‌آموخته‌شده (Pre-trained Weights) که موجب افزایش سرعت همگرایی و بهبود عملکرد مدل، به‌ویژه در شرایط محدودیت داده، می‌شود

در این فاز، لایه‌های ابتدایی شبکه که ویژگی‌های عمومی بصری مانند لبه‌ها و بافت‌ها را استخراج می‌کنند، فریز (Freeze) شده و فرآیند **Fine-tuning** عمدتاً بر روی لایه‌های انتهایی انجام می‌گیرد تا مدل به‌طور مؤثر با داده‌های پزشکی X-Ray تطبیق یابد.

---

## جمع‌بندی

استراتژی دو‌مرحله‌ای اتخاذشده در این پروژه، با ترکیب یک مدل پایه ساده و یک مدل عمیق مبتنی بر یادگیری انتقالی، امکان ارزیابی دقیق عملکرد و دستیابی به استانداردهای مورد انتظار در کاربردهای پزشکی را فراهم می‌کند. تمرکز اصلی بر Recall بالا در کنار کنترل False Positive، این سامانه را به گزینه‌ای قابل اتکا برای کاربردهای تشخیصی در حوزه سلامت تبدیل می‌کند.
